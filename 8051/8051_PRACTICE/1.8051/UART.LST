C51 COMPILER V9.02   UART                                                                  12/02/2023 18:46:27 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN UART.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE UART.C BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include<reg51.h>
   2          #include"lcd.h"
   3          
   4          void Init_UART(void)
   5          {
   6   1              SCON=0x50;//REN,Frame format by selecting mode(M1) of operation
   7   1              TMOD=0x20;//Timer 1 in mode 2
   8   1              TH1=250;//4800 baud rate @Fosc=11.0592MHz
   9   1              TR1=1;//Timer 1 runs 
  10   1      }
  11          unsigned char RxCharUART(void)
  12          {
  13   1              while(RI==0);//waiting for the data to arrive
  14   1              //while receiving, bits will receive from P3.0-RXD - each bit is storing into SBUF
  15   1              // If SBUF is full of 8 bit data, half of stop bit is received. then internal H/W will make RI=1 
  16   1              RI=0;
  17   1              return(SBUF);//received data in SBUF register   
  18   1      }
  19          void TxCharUART(unsigned char ch)
  20          {
  21   1              SBUF=ch;//Load character which is going to be transmitted
  22   1              //When transmission is completed SBUF is Empty
  23   1              //If TI=1, then transmission is completed
  24   1              while(TI==0);//waiting for transmission
  25   1              TI=0;
  26   1      }
  27          
  28          main()
  29          {
  30   1              char ch;
  31   1              Init_UART();
  32   1              initlcd();
  33   1              while(1)
  34   1              {
  35   2              ch=RxCharUART();//8051 CPU is receiving the character from UART based device. Assume that here the
  36   2              // device is PC.From Keyboard hit character, that character will take by PC CPU,from CPU
  37   2              // through RS-232 cable passing the data to MAX232. From MAX 232 to 8051 CPU will receive 
  38   2              // by connecting respective pins
  39   2              datalcd(ch);
  40   2      //      TxCharUART(ch);
  41   2              //8051 CPU---SBUF--->(TXD)--->MAX232T1IN ------>Internally converting  ----->T1OUT----->
  42   2              //RS232 CABLE -->RX PIN  -> PC based CPU will receive and passed on Monitor
  43   2              //In Monitor open Hyper Terminal/Flash Magic/X-CTU
  44   2              //There set the BR,FRAME FORMAT & COM PORT
  45   2              //Then data will display on respective terminal
  46   2              
  47   2              }
  48   1      }
  49          
  50          
  51          /*UART:SERIAL/FULL DUPLEX/ASYNCHRONOUS
  52          
  53          SCON
  54          SBUF
  55          PCON
C51 COMPILER V9.02   UART                                                                  12/02/2023 18:46:27 PAGE 2   

  56          
  57          TMOD
  58          TH1
  59          TL1
  60          TR1U IKL,
  61          
  62          P3.0 -RXD
  63          P3.1 -TXD
  64          
  65          FULL DUPLEX
  66          */
  67          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     44    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
